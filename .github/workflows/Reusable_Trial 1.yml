name: Reusable Job Trial
on: 
 push:
  branches:
    - matrix
jobs:
 testing:
    runs-on: ubuntu-latest
    steps:
    - name: Get code
      uses: actions/checkout@v4
    - name: Install dependencies
      run: npm ci
    - name: Run tests
      run: npm run test
    - name: Upload Artifacts
      uses: actions/upload-artifact@v4 
      with:
          name: test-report
          path: test.json

 build:
    runs-on: ubuntu-latest
    needs: testing
    steps:
    - name: Get code    
      uses: actions/checkout@v4
    - name: Install dependencies
      run: npm ci
    - name: Build website
      run: npm run build
    - name: Upload artifacts
      uses: actions/upload-artifact@v4
      with:
            name: test-files
            path: test.json
 deploy: 
    needs: build
    uses: ./.github/workflows/reusable.yml
    with:
      artifact-name: test-files
      # This is the name of the artifact to be downloaded in the reusable workflow
      # It should match the name used in the upload-artifact step in the build job




    

